# База данных "PE"

### Таблица "product" содержит информацию о продукте

Поля таблицы:
- "code" - уникальный код продукта (тип данных: строка, primary key)
- "min_loan_term" - минимальный срок кредита (тип данных: целое число)
- "max_loan_term" - максимальный срок кредита (тип данных: целое число)
- "min_principal_amount" - минимальная сумма основного долга (тип данных: десятичное число)
- "max_principal_amount" - максимальная сумма основного долга (тип данных: десятичное число)
- "min_interest" - минимальная процентная ставка (тип данных: десятичное число)
- "max_interest" - максимальная процентная ставка (тип данных: десятичное число)
- "min_origination_amount" - минимальная сумма трат организации (тип данных: десятичное число)
- "max_origination_amount" - максимальная сумма трат организации (тип данных: десятичное число)


### Таблица "agreement" содержит информацию о договоре

Поля таблицы:
- "id" - уникальный идентификатор соглашения (тип данных: строка, primary key)
- "product_code" - код продукта (тип данных: строка, foreign key, ссылается на поле "code" таблицы "product")
- "client_id" - идентификатор клиента (тип данных: строка)
- "interest" - процентная ставка (тип данных: десятичное число)
- "term" - срок кредита (тип данных: целое число)
- "principal_amount" - сумма основного долга (тип данных: десятичное число)
- "origination_amount" - сумма трат организаци (тип данных: десятичное число)
- "status" - статус соглашения (тип данных: строка, допустимые значения: 'NEW', 'ACTIVE', 'CLOSED')
- "disbursement_date" - дата выдачи кредита (тип данных: дата)
- "next_payment_date" - дата следующего платежа (тип данных: дата)
- "update_at" - последнее время обновления статуса заявки (тип данных: DATE)


### Таблица "payment_schedule" содержит информацию о графике платежей по соглашению

Поля таблицы:
- "id" - уникальный идентификатор графика платежей (тип данных: строка, primary key)
- "agreement_id" - идентификатор соглашения (тип данных: строка, foreign key, ссылается на поле "id" таблицы "agreement")
- "version" - версия графика платежей (тип данных: целое число)


### Таблица "payment_schedule_payment" содержит информацию о платежах по графику платежей

Поля таблицы:
- "payment_schedule_id" - идентификатор графика платежей (тип данных: строка, foreign key, ссылается на поле "id" таблицы "payment_schedule")
- "status" - статус платежа (тип данных: строка, допустимые значения: 'PAID', 'OVERDUE', 'FUTURE')
- "payment_date" - дата платежа (тип данных: дата)
- "period_payment" - сумма платежа за период (тип данных: десятичное число)
- "interest_payment" - сумма процентного долга платежа (тип данных: десятичное число)
- "principal_payment" - сумма основного долга платежа (тип данных: десятичное число)
- "period_number" - номер периода платежа (тип данных: целое число)


### Таблица "balance" содержит информацию о балансе

Поля таблицы:
- "agreement_id" - идентификатор соглашения (тип данных: строка, foreign key, ссылается на поле "id" таблицы "agreement", часть primary key)
- "balance_type" - тип баланса (тип данных: строка, допустимые значения: 'CLIENT', 'OVERDUE', часть primary key)
- "amount" - сумма баланса (тип данных: десятичное число)
- primary key: "agreement_id" + "balance_type"
